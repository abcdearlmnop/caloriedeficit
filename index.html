<body>
  <header>
    <h1>CalorieCraft</h1>
    <p class="sub">Offline â€¢ Private â€¢ iPhone-friendly</p>
    <style>
:root{
  --bg:#f5f5f7; --card:#fff; --text:#111; --muted:#6b6b6b;
  --accent:#ff7a18; --shadow: 0 6px 18px rgba(0,0,0,.06);
  --radius:16px;
}
*{box-sizing:border-box;}
body{
  font-family:-apple-system,BlinkMacSystemFont,sans-serif;
  background:var(--bg); color:var(--text);
  margin:0; padding:14px; -webkit-font-smoothing:antialiased;
}
header{text-align:center; margin:6px 0 10px;}
h1{margin:6px 0 2px;}
.sub{margin:0; color:var(--muted); font-size:13px;}

.card{
  background:var(--card); border-radius:var(--radius);
  padding:14px; margin:10px 0; box-shadow:var(--shadow);
}

.hero .big{font-size:38px; font-weight:800; color:var(--accent); line-height:1;}
.big2{font-size:28px; font-weight:800;}
.label{color:var(--muted); font-size:12px;}
.small{color:var(--muted); font-size:13px; margin-top:8px;}

.heroTop{display:flex; justify-content:space-between; align-items:flex-start;}
.pill{
  padding:6px 10px; border-radius:999px; font-size:12px; font-weight:700;
  background:rgba(255,122,24,.12); color:var(--accent);
}

.macroRow{display:flex; justify-content:space-between; padding:8px 0; border-bottom:1px solid #eee;}
.macroRow:last-child{border-bottom:none;}

input,select,button{
  width:100%; padding:12px; margin-top:10px;
  border-radius:12px; border:1px solid #e5e5ea; background:#fff;
  font-size:16px;
}
button{
  background:#007aff; color:#fff; font-weight:800; border:none;
}
button:active{transform:scale(.99);}

.shield{text-align:center; font-weight:800; padding:12px;}

.tabs{display:flex; gap:8px; margin:10px 0;}
.tab{
  flex:1; padding:10px; border-radius:12px; border:1px solid #e5e5ea;
  background:#fff; font-weight:700;
}
.tab.active{background:#111; color:#fff; border-color:#111;}

.panel.hidden{display:none;}

.grid2{display:grid; grid-template-columns:1fr 1fr; gap:10px;}
.grid3{display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px;}
</style>
  </header>

  <nav class="tabs">
    <button class="tab active" data-tab="home">Home</button>
    <button class="tab" data-tab="calculator">Calculator</button>
    <button class="tab" data-tab="meals">Meals</button>
    <button class="tab" data-tab="progress">Progress</button>
  </nav>

  <!-- HOME -->
  <section class="panel" id="home">
    <div class="card hero">
      <div class="heroTop">
        <div>
          <div class="label">Target Today</div>
          <div class="big" id="targetCalories">â€” kcal</div>
        </div>
        <div class="pill" id="dayType">Deficit</div>
      </div>
      <div class="small" id="maintenanceText">Maintenance: â€” kcal</div>
      <div class="small" id="deficitText">Deficit: â€” kcal/day</div>
    </div>

    <div class="card">
      <h3>Macros (grams/day)</h3>
      <div class="macroRow"><span>Protein</span><b id="protein">â€”</b></div>
      <div class="macroRow"><span>Carbs</span><b id="carbs">â€”</b></div>
      <div class="macroRow"><span>Fat</span><b id="fat">â€”</b></div>
      <div class="small" id="wholeFoodsText">Whole foods (80â€“90%): â€” kcal â€¢ Flex (10â€“20%): â€” kcal</div>
    </div>

    <div class="card shield" id="shield">ðŸ›¡ Muscle Protected</div>

    <div class="card">
      <h3>Estimated Weight Loss</h3>
      <div class="big2"><span id="loss">â€”</span> kg/week</div>
      <div class="small">Based on calorie deficit estimate (7700 kcal â‰ˆ 1 kg fat).</div>
    </div>
  </section>

  <!-- CALCULATOR -->
  <section class="panel hidden" id="calculator">
    <div class="card">
      <h3>Auto-compute Maintenance (TDEE)</h3>

      <div class="grid2">
        <input type="number" id="age" placeholder="Age">
        <select id="sex">
          <option value="M">Male</option>
          <option value="F">Female</option>
        </select>

        <input type="number" id="weight" placeholder="Weight">
        <select id="weightUnit">
          <option value="kg">kg</option>
          <option value="lb">lb</option>
        </select>

        <input type="number" id="height" placeholder="Height">
        <select id="heightUnit">
          <option value="cm">cm</option>
          <option value="ft">ft-in</option>
        </select>
      </div>

      <div class="grid2 hidden" id="ftInRow">
        <input type="number" id="heightFt" placeholder="ft">
        <input type="number" id="heightIn" placeholder="in">
      </div>

      <select id="activity">
        <option value="1.2">Sedentary (little exercise)</option>
        <option value="1.375">Light (1â€“3x/week)</option>
        <option value="1.55">Moderate (3â€“5x/week)</option>
        <option value="1.725">Very Active</option>
        <option value="1.9">Athlete</option>
      </select>

      <div class="small">OR if you already know your maintenance calories, enter it below.</div>
      <input type="number" id="maintenanceOverride" placeholder="Maintenance calories (optional)">

      <div class="grid2">
        <input type="number" id="cutPercent" placeholder="Cut % (e.g., 15)" value="15">
        <input type="number" id="targetOverride" placeholder="Target calories (optional)">
      </div>

      <button id="updateBtn">Update</button>
      <div class="small" id="calcDebug"></div>
    </div>

    <div class="card">
      <h3>Macro Split</h3>
      <div class="grid3">
        <input type="number" id="pPct" value="35" placeholder="Protein %">
        <input type="number" id="fPct" value="25" placeholder="Fat %">
        <input type="number" id="cPct" value="40" placeholder="Carbs %">
      </div>
      <div class="small">Tip: keep protein high to protect lean mass.</div>
    </div>
  </section>

  <!-- MEALS -->
  <section class="panel hidden" id="meals">
    <div class="card">
      <h3>Recommended Foods (PH-friendly)</h3>
      <div class="small">These suggestions adjust based on your macros & calories.</div>
      <div id="foodList"></div>
    </div>

    <div class="card">
      <h3>Simple 1-day Meal Template</h3>
      <div id="mealTemplate"></div>
    </div>
  </section>

  <!-- PROGRESS -->
  <section class="panel hidden" id="progress">
    <div class="card">
      <h3>Progress (local only)</h3>
      <div class="small">Log your weigh-ins; weâ€™ll show trend next.</div>

      <div class="grid2">
        <input type="date" id="logDate">
        <input type="number" id="logWeight" placeholder="Weight (kg)">
      </div>
      <button id="saveLogBtn">Save Weigh-in</button>

      <div id="logs" class="small"></div>
    </div>
  </section>

  <script src="app.js"></script>
</body>
